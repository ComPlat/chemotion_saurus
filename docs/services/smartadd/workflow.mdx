---
title: Complete Workflow
sidebar_position: 2
---

# Complete SmartAdd Workflow

This guide walks you through the entire workflow from uploading data to importing it into Chemotion.

## Step 1: Upload Analytical Data Files

### Upload Your Analytical Files

Upload your analytical data files to SmartAdd. These files will be stored in the input list, ready for you to assign to samples and analyses.

#### Option A: Upload Individual Files
1. Drag analytical files (spectra, images, raw data, etc.) directly into the "Drag files here" area
2. Files are processed and appear in the input list view on the left
3. Files are ready to be assigned to samples and analyses

#### Option B: Upload a ZIP Archive of Analytical Files
1. Prepare a ZIP file containing your analytical data files
2. Drag the ZIP file into the upload area
3. SmartAdd extracts all contents automatically
4. All files appear in the input list view

:::info[Analytical Data Upload]
Options A and B are for uploading your **analytical data files** (spectra, images, raw data):
- Files appear in the **input list (left panel)**
- You'll manually create your collection structure (samples, reactions)
- Then assign these files to the appropriate samples/analyses
:::

### File Naming Tips

Use clear filenames to make assignment easier:
- ‚úÖ Good: `compound_A_1H_NMR_400MHz.jdx`
- ‚úÖ Good: `sample_001_structure.mol`
- ‚úÖ Good: `data@#$_final_v2.txt`
- ‚úÖ Good: `file1.jdx`

### Supported Analytical File Types

- **Spectra**: NMR, IR, MS data files (various formats)
- **Images**: PNG, JPG, TIFF
- **Raw Data**: CSV, TXT, vendor-specific formats
- **Text Files**: Metadata, notes, experimental details
- **Archives**: ZIP files containing any of the above

## Alternative: Auto-Generate Collection Structure

Instead of manually creating your collection structure, you can automatically generate it from:

### Option C: Import from Chemscanner Export (export.json)

Use this to automatically create samples and reactions from Chemscanner data:

1. **Export from Chemscanner**: Export your Chemscanner data as a ZIP file (includes `export.json`)
2. **Upload to SmartAdd**: Drag the Chemscanner ZIP into the upload area
3. **Auto-Generation**: SmartAdd automatically:
   - Detects the `export.json` file
   - Creates the complete collection tree structure (samples, reactions)
   - Extracts chemical structures and metadata
   - Populates sample properties (SMILES, names, etc.)
4. **Review & Edit**: The generated structure appears in the assignment tree (right panel)
5. **Assign Analytics**: Drag analytical files from input list to the auto-generated samples/analyses

:::tip[Chemscanner Integration]
This option creates your **collection structure** automatically - you don't need to manually create samples and reactions. The structure is ready to use, just assign your analytical data files to it!
:::

### Option D: Import from Excel Template

Use this to automatically create samples and reactions from a structured spreadsheet:

1. **Download Template**: Get the SmartAdd Excel template (provided by SmartAdd)
2. **Fill Template**: Follow the template format and add your data in the required columns:
   - Sample names
   - SMILES notation or MOL file references
   - Amounts, purity, descriptions
   - Reaction information
   - Sample roles (starting material/reactant/product/solvent)
3. **Upload to SmartAdd**: Drag the completed Excel file (.xlsx) into the upload area of modal
4. **Auto-Generation**: SmartAdd processes the template and creates:
   - Samples with molecular structures
   - Reactions with proper sample assignments
   - Complete hierarchical collection structure
   - All metadata populated from spreadsheet columns
5. **Review & Edit**: The generated structure appears in the assignment tree (right panel and information tab)
6. **Assign Analytics**: Drag analytical files from input list to the auto-generated samples/analyses

:::tip[Excel Template Benefits]
Perfect for batch processing multiple samples! Use our provided template format to structure your data in Excel, then import it to SmartAdd. The entire hierarchy is generated automatically - just assign your analytical files afterwards.
:::

:::warning[Template Format Required]
The Excel file must follow the SmartAdd template format with specific column headers and structure. Contact the Chemotion team at [chemotion-smartadd@lists.kit.edu](mailto:chemotion-smartadd@lists.kit.edu) to get the template file.
:::

:::info[Auto-Generation Summary]
**Options C and D create your collection tree structure automatically:**
- **Chemscanner (export.json)**: Imports existing Chemscanner data with structures
- **Excel Template**: Builds structure from spreadsheet data
- Both methods generate samples, reactions, and hierarchy
- After import, assign analytical files from the input list to the generated structure
- Much faster than manually creating samples and reactions one by one!
:::

## Step 2: Create & Organize Structure (Manual Method)

### Build Your Collection Manually

Now you'll create the structure by manually adding samples and reactions, then assigning your uploaded files to them.

### Understanding the Tree Hierarchy

SmartAdd uses this hierarchy (as shown in the right panel):

```
üì¶ Collection (Assignment Tree)
  ‚îú‚îÄ üß™ Reaction 1
  ‚îÇ   ‚îú‚îÄ üìã Sample 1 (Reactant)
  ‚îÇ   ‚îÇ   ‚îî‚îÄ üìä Analyses
  ‚îÇ   ‚îÇ       ‚îî‚îÄ üìä Analysis (e.g., NMR)
  ‚îÇ   ‚îÇ           ‚îî‚îÄ üìÅ Datasets
  ‚îÇ   ‚îÇ               ‚îî‚îÄ üìÑ Files
  ‚îÇ   ‚îî‚îÄ üìã Sample 2 (Product)
  ‚îÇ       ‚îî‚îÄ üìä Analyses
  ‚îî‚îÄ üìã Sample 3 (Standalone)
      ‚îî‚îÄ üìä Analyses
```

**Typical hierarchy:** Reactions ‚Üí Samples ‚Üí Analyses ‚Üí Analysis ‚Üí Datasets ‚Üí Files

### How to Build Your Structure

There are multiple ways to build and organize your collection:

#### Method 1: Using Action Buttons
1. **Add Samples**: Click "Add Sample" button in the right panel
2. **Add Reactions**: Click "Add Reaction" button to create reaction nodes
3. **Assign Files**: Drag files from the input list (left) to samples/analyses in the tree (right)
4. **Edit Properties**: Click any node to edit its properties in the properties panel

#### Method 2: Using Quick Add Buttons
- **Plus Button Next to Reaction**: Click the `+` button next to any reaction node to quickly add samples to that reaction

#### Method 3: Using Context Menu (Right-Click)
Right-click on any node in the tree to open a context menu with options:
- **Edit Name**: Right click and rename the selected item
- **Add Sample**: Add a sample (when right-clicking on reaction)
- **Add Analysis**: Add analysis to a sample
- **Add Dataset**: Add dataset to an analysis
- **Delete**: Remove the selected item and its children

:::tip[Multiple Ways to Work]
Choose the method that feels most natural to you! The context menu (right-click) is especially useful for quickly adding nested items without navigating through menus.
:::

### Editing Properties

Select any node in the tree to edit its properties:

#### Sample Properties

| Field | Description | Example |
|-------|-------------|---------|
| **Name** | Sample identifier | "Compound A" |
| **SMILES** | Molecular structure (validated in real-time) | "CC(=O)OC1=CC=CC=C1C(=O)O" |
| **MOL File** | Upload or draw molecular structure | Use "Upload File" or "Draw Structure" |
| **Amount** | Quantity with units | "100 mg" |
| **Purity** | Percentage | 1 |
| **Location** | Storage location | "Freezer A, Shelf 2" |
| **Sample Type** | Category of sample | "Product" / "Starting Material" |
| **Description** | Rich text notes with formatting | Use Quill editor for formatted text |

:::tip[SMILES & MOL File Validation]
SmartAdd provides real-time validation for molecular structures:
- **SMILES**: Syntax is checked automatically as you type
- **MOL Files**: File structure and atom counts are validated
- **Ketcher Integration**: Click "Draw Structure" to use the visual molecular editor
- Invalid structures are highlighted with specific error messages
- Prevents export of incorrect molecular data
:::

#### Reaction Properties

| Field | Description | Example |
|-------|-------------|---------|
| **Name** | Reaction identifier | "Suzuki Coupling" |
| **Samples** | Multiple samples supported | Add starting materials, reactants, products, solvents |
| **Sample Roles** | Starting Material/Reactant/Product/Solvent | Automatically sorted by role |
| **Reaction Scheme** | Visual representation | Hover to preview scheme image |
| **Reaction Scheme Type** | Visual scheme format | Define for proper visualization |
| **RF Value** | TLC reference | "0.65" |
| **Description** | Rich text reaction conditions | Use Quill editor with formatting |

:::info[Multi-Sample Reactions & Tooltips]
SmartAdd supports adding multiple samples to a single reaction with:
- Automatic smart sorting based on roles
- Clear organization of reactants, products, and solvents
- Proper hierarchical structure for complex reactions
- **Reaction Tooltips**: Hover over reactions in the tree to preview reaction scheme images
:::

#### Analysis Properties

| Field | Description | Example |
|-------|-------------|---------|
| **Type** | Analysis technique | "NMR" / "IR" / "MS" |
| **Type Ontology** | Standardized classification | Select from dropdown |
| **File Attachments** | Associated data files | Spectra, logs, images |
| **Status** | Processing status | "Complete" / "Pending" |
| **Dataset Inclusion** | Include/exclude from export | Control export contents |
| **Description** | Rich text analysis notes | Use Quill editor for formatted notes |

:::tip[Dataset Management & Rich Text]
Advanced features for analysis documentation:
- **Dataset Control**: Use inclusion/exclusion to control what gets exported to Chemotion
- **Exclude** preliminary or failed analyses
- **Include** only validated data
- **Rich Text Descriptions**: Use the Quill editor to add formatted notes with:
  - Bold, italic, underline formatting
  - Bullet and numbered lists
  - Headers and subheaders
  - Code blocks for formulas
:::

## Step 3: Organize Reactions & Samples

### Creating Samples

1. Click the **Add Sample** button in the right panel
2. A new sample node appears in the assignment tree
3. Edit the sample properties (name, SMILES, amount, etc.)
4. Assign MOL files or spectra by dragging from the input list

### Creating Reactions

1. Click the **Add Reaction** button in the right panel
2. A new reaction node appears in the tree
3. Add samples to the reaction
4. Assign sample roles (starting material/reactant/product/solvent)

### Linking Files to Samples/Analyses

**Drag and drop files from left panel to right panel:**
1. Locate your file in the input list (left panel)
2. Drag it to the appropriate sample or analysis node (right panel)
3. The file is now attached and will be included in the export

### Organizing Multiple Samples in Reactions

SmartAdd supports multi-sample reactions with automatic smart sorting:
1. Add multiple samples to a reaction
2. Assign roles to each sample:
   - **Starting Materials**: Initial materials for the reaction
   - **Reactants**: Starting materials
   - **Products**: Desired outcomes
   - **Solvents**: Reaction medium
3. Samples are automatically sorted by role
4. Define reaction scheme type for proper visualization

## Step 4: Review & Validate

Before exporting, verify:

### Data Completeness Checklist

- [ ] All samples created and have meaningful names
- [ ] SMILES notation entered and validated for molecular structures
- [ ] MOL files assigned to appropriate samples
- [ ] Amounts include units (mg, g, mol, mL)
- [ ] Reactions created with samples added
- [ ] Reaction roles are correctly assigned (starting material/reactant/product/solvent)
- [ ] Multi-sample reactions properly organized with smart sorting
- [ ] Files from input list dragged to correct samples/analyses
- [ ] Analysis types are properly categorized
- [ ] Dataset inclusion/exclusion configured correctly
- [ ] Descriptions provide adequate context

### Quality Checks

1. **Navigate through the tree** - Ensure logical structure
2. **Check input list** - Verify all important files have been assigned (unassigned files won't be exported)
3. **Spot-check properties** - Verify key fields are filled
4. **Review relationships** - Confirm sample-reaction-analysis links
5. **Expand nodes** - Ensure all files are visible under correct analyses/analysis/datasets

## Step 5: Export for Chemotion

You now have two export options:

### Option A: Download as ZIP

1. Click **Download as ZIP** in the left panel
2. Choose a save location
3. The ZIP file is generated with Chemotion-compatible structure
4. Manually upload to Chemotion later

### Option B: Direct Upload to Chemotion (New!)

1. Click **Upload to Chemotion ELN** from the export menu
2. **Enter Server Details**:
   - Chemotion server URL (e.g., https://your-chemotion-server.com)
   - Server connectivity is verified automatically
3. **Authenticate**:
   - Enter your Chemotion username
   - Enter your password
   - Secure authentication with session management
4. **Upload**: SmartAdd uploads your collection directly to Chemotion
   - No manual download needed
   - Automatic session handling

### What's Included in the Export?

- ‚úÖ All samples with properties and validated SMILES
- ‚úÖ Reactions with multiple samples and smart role sorting
- ‚úÖ Analyses with classifications and selected datasets
- ‚úÖ All attached files
- ‚úÖ Metadata in Chemotion format

:::tip[Direct Upload Benefits]
The direct upload feature eliminates manual steps:
- No need to download and re-upload files
- Faster workflow
- Automatic authentication
- Server connectivity verification
:::

## Step 6: Import into Chemotion

### For ZIP Downloads (Option A)

1. **Open Chemotion ELN**
2. **Navigate to Import section**
3. **Select the exported ZIP file**
4. **Confirm and complete the import**

### For Direct Uploads (Option B)

The import is handled automatically! After successful upload:
1. Open your Chemotion ELN
2. Navigate to your collections
3. Your data is already there after few seconds of upload - ready to use!

### Post-Import Verification

After importing into Chemotion:
- Review imported samples
- Verify reaction schemes
- Check that all files are accessible
- Confirm metadata integrity

## Tips for Efficient Workflow

1. **Work in batches**: Process similar samples together
2. **Use templates**: Develop naming conventions for consistency
3. **Save checkpoints**: Export intermediate ZIPs as backups
4. **Validate early**: Check properties as you go, not at the end
