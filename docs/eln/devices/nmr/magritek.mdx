---
title: Integration of Magritek NMR
---

This guide explains how to add Magritek NMR to the Chemotion ELN device pool. The protocol enables remote access to the
PC running Spinsolve and the transfer of experiment data to the Chemotion ELN’s inbox. Both these can be set up
separately, with neither relying on the other. The data transfer is configured for experiments conducted directly in
Spinsolve.

:::info
General preparation aspects can be found [here](../../devices#general-preparation-aspects).
:::

Considering all these aspects, this procedure has been conducted on the following system configurations. However it is
likely to work on systems with different software versions as well.

## Specifications of the Magritek NMR device

- Operating system: Windows 10
- Software Name: Spinsolve (Version: 2.0.1)
- Connected to Internet/Intranet: Yes
- Data files generated: 1D file (.1d)
- Static IP address has been configured

# Objectives

- Remote Device Control
- Data transfer to Chemotion ELN inbox

For the NMR integration, we have decided to configure both these features.

# Configurations

## Remote Device Control

## Remote Device Control

:::info
General guideline regarding the configurations of remote device control can be found [here](../configurations/remote_control).
:::

## Data transfer

Data will automatically be transferred to the Chemotion ELN once the data has been saved locally on the computer. The
user only needs to make sure to name the output file according to the [naming convention](../../devices#name-conventions)
before saving it to the local machine.

:::info
Please take care that you communicate [name conventions](../../devices#name-conventions) to all users of the Chemotion ELN.
:::

### Configurations in NMR PC

The NMR's PC and the Chemotion ELN both need access to a common network storage location. This can be set up on a
third-party storage (a NAS server, shared storage of another PC etc) or it can be set up locally on the NMR PC.

In this case, the LSDF storage service from KIT has been used which has been later on mounted in the NMR’s PC as a
network drive under Netzwerkadressen i.e. Network Address. For this guide, the LSDF folder was mounted as a network
drive of the NMR PC using the [SMB/CIFS on Windows](https://wiki.scc.kit.edu/lsdf/index.php/LSDF_Online_Storage:_SMB_/_CIFS#Using_SMB.2FCIFS_on_Windows)
configurations.

### Configurations in Spinsolve

We can see that the data is stored both locally and on a remote server when we look at Spinsolve's data storage options.
Now as for the remote backup storage location, the network drive we created will be used. The Chemotion ELN also has
access to this storage location. The experiment data file will be automatically saved at this location besides the local
drive and Chemotion ELN will be able to retrieve and transfer it to the appropriate user's inbox.

![devices_NMR_magritek_10](/img/nmr_magritek/devices_nmr_magritek_10.png)

To make sure that Chemotion ELN is able to transfer it to the appropriate user's inbox, we have to make sure the samples are named following the [naming convention](../../devices#name-conventions).

Here the naming of the sample has started with the name abbreviation (Kürzel) of a certain user to whom the experiment data file will be sent.

![devices_NMR_magritek_11](/img/nmr_magritek/devices_nmr_magritek_11.png)

Now data experiment data will be transferred to the network storage location so that the data collector of Chemotion ELN can retrieve it from there.

### Configurations in Chemotion ELN

The Chemotion ELN’s data collector has to be configured to collect data from the NMR from the network location.

As the file collector mechanism, there are two options.

- Collecting attachment files from emails
- Collecting file or folder from local drives or over SCP

Here in this guide we have used the second mechanism where the files are collected from remote storage locations and are
distributed to specific users based on the file-name matching the name abbreviation of the user.

:::note See details
[File collector setting page](../../install_configure/configuration#file-collection)
:::
